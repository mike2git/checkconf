!
!  Copyright (c) 2002 by OCLC PICA
!
!  File		: abes_cs_idb_caen_books_mmtab.asc
!  Description	: file for all old import of books
!  Author(s)	       : Tonny v.d. Vegt
!  Creation	       : 21-10-2002
!
!  History:
!  24-02-2005	: GRT  : copie/adaptation de bium
!  2012-02-29    : msr  : adapt pour Maison des Sciences de l'homme (MSH)
!  2012-07-26 : mte : adapt pour La Roche sur Yon (remis a MSH le 31/07)
!  
!
!---------------------------------------------------------------------
!  This table determines how two similar monograph titles will be merged to
!  form a single new monograph title.
!
!  History
!  08-08-2000 Tonny   Copied BNOB BOOKS
!  09-08-2000 Tonny   036F added
!  06-06-2002 MTE     cand limit 0.75, merge 80
!  19-06-2002 GRT     Preparation import Polynesie
!  17-07-02   GRT/MTE sou mis en commentaire
!  24-04-2003 MTE     sou en fonction
!             MTE     essai copy replace
!  2008-04-09    : mte  : ajout de la 225 et 856 si differente
!---------------------------------------------------------------------
!    main+local
!COPIES_MERGE ADD
! tag set
!   id.
! &005A      UPPERCASE($0)?MERGE:ADD        ADD(KEEP) KEEP  011
!  &009R		 REPLACE(KEEP)                  ADD(KEEP) KEEP  859
! This line causes duplicate information: &020I   KEEP   ADD(KEEP) KEEP
!  &021A      REPLACE(KEEP)             		ADD(KEEP) KEEP  200
!  &035B      REPLACE(KEEP)             		ADD(KEEP) KEEP  230 ne pas remplacer, mais garder
!  &046G		 KEEP             				ADD(KEEP) KEEP  307 commentaire pour Elsevier car deja en 303
!  &046V      NORMALIZED($a)?KEEP:ADD    	ADD(KEEP) KEEP  336 plus ajoute car format dans URL
!---------------------------------------------------------------------
!  This table determines how to search for similar monograph titles
!  when matching a monograph title.
!
!  History
!---------------------------------------------------------------------
!MATCH_LIMIT 0
!CANDIDATE_LIMIT 0
!SIGNAL_MARK     CG
!-----------------------------------------------------------
! search     no search       no      no              too many
!  form     command     candidate   match     match    hits
!-----------------------------------------------------------
!------------------------------------------------------------------------
! search   		no search 	   no       	no               	too many
!  form     	 command  	candidate  	   match     match     	hits
!------------------------------------------------------------------------
! SOU(OR)         GOTO(2)      GOTO(2)     GOTO(2)    GOTO(2)    GOTO(2)
! ISB(OR)         GOTO(3)      GOTO(2)     GOTO(3)    GOTO(3)    GOTO(3)
! NONE(0,50,100)  MARK(A)      NEW    	  MARK(A)    MERGE      MARK(A)
!\\
!
!  14-11-2021 	:  checkconf  :  rewrite of key values ​​by tbtoasc - abes_cs_idb_msh_books_mmtab.asc 
!
[MM#MSH#BOOKS#MMTAB]
SECTION MERGING
FORMAT038L MSH
!---------------------------------------------------------------------
!  This table determines how two similar monograph titles will be merged to
!  form a single new monograph title.
!
!  History
!  08-08-2000 Tonny   Copied BNOB BOOKS
!  09-08-2000 Tonny   036F added
!  06-06-2002 MTE     cand limit 0.75, merge 80
!  19-06-2002 GRT     Preparation import Polynesie
!  17-07-02   GRT/MTE sou mis en commentaire
!  24-04-2003 MTE     sou en fonction
!             MTE     essai copy replace
!  2008-04-09    : mte  : ajout de la 225 et 856 si differente
!---------------------------------------------------------------------
DEFAULT
 SAME_TAG_CODE_ACTION    KEEP   ! When tags are identified as same and MERGE is
                                ! specified: keep the occurrence of prefered
 SAME_TAG_CONTENT_ACTION BEST   ! title and take the "best" tag contents
 SUPPL_SET_ACTION        ADD    ! Add tags if their code is not yet present
 SUPPL_SET_CODE_ACTION   KEEP   ! and don't change their occurrence
 BASE_SET_ACTION         KEEP   ! Keep pref. tags if not present in signal
DESTINATION DBASE               ! Dbase title supplies the PPN of resulting ttl
ADD003D     Y
!    main+local
BASE    DBASE                   ! Prefered title supplies contents of res. ttl.
COPIES_MERGE TRANSFER
!COPIES_MERGE ADD
TAG_TABLE
! tag set
!   id.
   002@      TRUE?MERGE(BASE,MAX_STATUS):   ADD(KEEP) KEEP ! 008
  &003B      IDENTICAL($0$l)?KEEP:ADD       ADD(KEEP) KEEP ! 002
  &003D      IDENTICAL($0)?KEEP:ADD         ADD(KEEP) KEEP ! 006 ppn of previous B-title
  003O       DBASE                          DBASE    DBASE   ! OCN (WorldCat record identifier)
  &004A      IDENTICAL($B)?KEEP:ADD         ADD       KEEP ! 010
  &004B	     IDENTICAL($B)?KEEP:ADD         ADD       KEEP  ! 019
  &004Z      IDENTICAL($0)?KEEP:ADD         ADD       KEEP ! 014  
  &004E      KEEP                           ADD(KEEP) KEEP ! 071
! &005A      UPPERCASE($0)?MERGE:ADD        ADD(KEEP) KEEP  011
  &006A      KEEP                           ADD(KEEP) KEEP ! 020
  &006C      KEEP                           ADD(KEEP) KEEP ! 021
  &006D      KEEP                           ADD(KEEP) KEEP ! 022
  &006Z      IDENTICAL($0)?KEEP:ADD         ADD(KEEP) KEEP ! 035 original prod. nr.
  &009P      REPLACE(KEEP)                  ADD(KEEP) DELETE ! 856 original prod. nr.
!  &009R		 REPLACE(KEEP)                  ADD(KEEP) KEEP  859
  &009R		 IDENTICAL($a)?KEEP:ADD                  ADD(KEEP) KEEP ! 859
  &011@		 KEEP 		                    ADD(KEEP) KEEP ! 100
  &012C      REPLACE(KEEP)                  ADD(KEEP) DELETE ! 106
  &012R      KEEP                    		ADD(KEEP) KEEP! 135 ajout si absent, et pas remplace
  &012T		 IDENTICAL($P)?KEEP:ADD         ADD(KEEP) KEEP   ! 181 ajout si absent et $P different
  &012U		 IDENTICAL($P)?KEEP:ADD         ADD(KEEP) KEEP   ! 182 ajout si absent et $P different
  &012V		 IDENTICAL($P)?KEEP:ADD         ADD(KEEP) KEEP   ! 183 ajout si absent et $P different
  &020A      KEEP                      		ADD(KEEP) KEEP ! 328
  &020F      KEEP                      		ADD(KEEP) KEEP ! 326
! This line causes duplicate information: &020I   KEEP   ADD(KEEP) KEEP
!  &021A      REPLACE(KEEP)             		ADD(KEEP) KEEP  200
  &021A      DBASE                     		DBASE     KEEP  !200
  &022A      KEEP                      		ADD(KEEP) KEEP ! 500
  &022E      KEEP                      		ADD(KEEP) KEEP ! 503
  &026@      KEEP                      		ADD(KEEP) KEEP ! 530
  &027K      SUBSIMILAR(.9,$a)?KEEP:ADD   	ADD(KEEP) KEEP ! 517
 ! &028A      KEEP                 	    	ADD(KEEP) KEEP   700
 ! &028B      KEEP                 	    	ADD(KEEP) KEEP   701
 ! &028C      KEEP                 	    	ADD(KEEP) KEEP   702
 ! &029A      KEEP                 			ADD(KEEP) KEEP   710
 ! &029B      KEEP                 	    	ADD(KEEP) KEEP   711
 ! &029F      KEEP                 	    	ADD(KEEP) KEEP   712
 ! &028O      KEEP                 			ADD(KEEP) KEEP   720
 ! &028Q      KEEP                 	   		ADD(KEEP) KEEP   722
 !  033A      KEEP                       	ADD(KEEP) KEEP  210
 ! &032@		 REPLACE(KEEP)                  ADD(KEEP) DELETE  205
   &033A      KEEP                   	    ADD(KEEP) KEEP  !  210 ne pas remplacer, mais garder
  &034R      KEEP                       	ADD(KEEP) KEEP ! 215
!  &035B      REPLACE(KEEP)             		ADD(KEEP) KEEP  230 ne pas remplacer, mais garder
  &036E      NORMALIZED($a)?KEEP:ADD    	ADD(KEEP) KEEP ! 225 original prod. nr.
  &036F      KEEP                           ADD(KEEP) KEEP ! 410
  &036L/{02} KEEP                 	   		ADD(KEEP) KEEP  ! 452 garder Sudoc
 ! &036L/{04} KEEP                      	ADD(KEEP) KEEP  454
 ! &036L/{05} REPLACE(KEEP)               	ADD(KEEP) DELETE   455
 ! &036M/{04} REPLACE(KEEP)             		ADD(KEEP) KEEP  464
  &036O/{08}  REPLACE(KEEP)             		ADD(KEEP) KEEP ! 488
  &036P      NORMALIZED($2$a)?KEEP:ADD 		ADD(KEEP) KEEP ! 604
  &037A      KEEP                      		ADD(KEEP) KEEP ! 300
  &038L      DBASE                     		DBASE     KEEP ! 024
  &039D      DBASE                     		DBASE     KEEP ! XXX
 ! &040@      NORMALIZED($2$a)?KEEP:ADD 	ADD(KEEP) KEEP  600
 ! &040A      NORMALIZED($2$a)?KEEP:ADD 	ADD(KEEP) KEEP  602
 ! &041@      NORMALIZED($2$a)?KEEP:ADD 	ADD(KEEP) KEEP  601
 ! &042C      NORMALIZED($2$a)?KEEP:ADD 	ADD(KEEP) KEEP  605
 !&044Q      NORMALIZED($2$a)?KEEP:ADD 	ADD(KEEP) KEEP   606
 ! &044R      NORMALIZED($2$a)?KEEP:ADD 	ADD(KEEP) KEEP  607
 !&044U      NORMALIZED($2$a)?KEEP:ADD 	ADD(KEEP) KEEP   610
 !&045A      KEEP                      	ADD(KEEP) KEEP  680
 ! &045F      KEEP                      	ADD(KEEP) KEEP   676
 ! &045G      KEEP                      	ADD(KEEP) KEEP  675
 ! &045W      ADD(KEEP)                 	ADD(KEEP) KEEP  686
 ! &046D		 REPLACE(KEEP)             		ADD(KEEP) KEEP  304
  &046C		 KEEP             				ADD(KEEP) KEEP ! 303
  &046D		 KEEP             				ADD(KEEP) KEEP ! 304
!  &046G		 KEEP             				ADD(KEEP) KEEP  307 commentaire pour Elsevier car deja en 303
  &046I      REPLACE(KEEP)             		ADD(KEEP) KEEP ! 310
  &046R		 KEEP             				ADD(KEEP) KEEP ! 324
  &046S		 KEEP             				ADD(KEEP) KEEP ! 325
!  &046V      NORMALIZED($a)?KEEP:ADD    	ADD(KEEP) KEEP  336 plus ajoute car format dans URL
  &046W      KEEP              	  			ADD(KEEP) KEEP ! 337
  &047A      IDENTICAL($S)?KEEP:ADD     	ADD(KEEP) KEEP !  801 
  &047B      ADD(KEEP)                 		ADD(KEEP) KEEP ! 802
   047D      KEEP                      		ADD(KEEP) KEEP ! 327
  &047E      IDENTICAL($a)?KEEP:ADD         ADD(KEEP) KEEP ! 339 si $a identique on garde sinon on ajoute
  &047F      IDENTICAL($a)?KEEP:ADD     	ADD(KEEP) KEEP ! 359    
  &047P      KEEP                       	ADD(KEEP) KEEP ! 330
  &0***      KEEP                      		KEEP      KEEP ! Level 0 tags (don't add)
  &1***      KEEP                      		ADD(KEEP) KEEP ! Local tags
 ! &2***      KEEP                      		ADD(KEEP) KEEP Local tags
!---------------------------------------------------------------------
!  This table determines how to search for similar monograph titles
!  when matching a monograph title.
!
!  History
!---------------------------------------------------------------------
SECTION MATCHING
EVALUATION BOOKS
REPLACE_DBASE_BY_PREF K!,B
SKIP_DBASE_STATUS -!a,B
SKIP_DBASE_SUPPLIER -
MAX_SET_SIZE 10000
!MATCH_LIMIT 0
!CANDIDATE_LIMIT 0
MATCH_LIMIT 0.80
CANDIDATE_LIMIT 0.77
!SIGNAL_MARK     CG
SIGNAL_MATERIAL A[a]
DBASE_MATERIAL  A[a]
DECISION_TABLE
!-----------------------------------------------------------
! search     no search       no      no              too many
!  form     command     candidate   match     match    hits
!-----------------------------------------------------------
 NUM(OR)       GOTO(2)   GOTO(1)   GOTO(1)   GOTO(4)  GOTO(1)
 CTI(OR)       GOTO(3)   GOTO(2)   GOTO(2)   GOTO(4)  GOTO(2)
 SOU(APU(1))   GOTO(4)   GOTO(3)   GOTO(3)   GOTO(4)  GOTO(3)
 NONE(0,0,100) MARK(A)    NEW      NEW(B)   MERGE    NEW
\\
